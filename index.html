<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sui-Gen (Ê≠≤-Gen) - Lunisolar Calendar Generator</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
    <!-- Highlight.js Themes (light + dark) -->
    <link rel="stylesheet" id="hljs-light" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/github.min.css">
    <link rel="stylesheet" id="hljs-dark" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/github-dark.min.css" disabled>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="container-fluid layout-container d-flex flex-column">
    <!-- Header -->
    <header class="row py-3 border-bottom border-secondary-subtle align-items-center bg-body-tertiary">
        <div class="col px-4 d-flex align-items-center">
            <div class="logo-symbol me-3">Ê≠≤</div>
            <h1 class="h4 m-0 fw-bold text-dark">Sui-Gen <span class="fw-light text-secondary">| Lunisolar Calendar Generator</span></h1>
        </div>
        <div class="col-auto px-4">
            <div class="btn-group btn-group-sm theme-toggle" role="group" aria-label="Theme toggle">
                <input type="radio" class="btn-check" name="theme" id="themeLight" value="light" autocomplete="off">
                <label class="btn btn-outline-secondary" for="themeLight" title="Light mode">‚òÄÔ∏è</label>
                <input type="radio" class="btn-check" name="theme" id="themeAuto" value="auto" autocomplete="off" checked>
                <label class="btn btn-outline-secondary" for="themeAuto" title="Auto (system)">Auto</label>
                <input type="radio" class="btn-check" name="theme" id="themeDark" value="dark" autocomplete="off">
                <label class="btn btn-outline-secondary" for="themeDark" title="Dark mode">üåô</label>
            </div>
        </div>
    </header>

    <div class="row flex-grow-1 overflow-hidden layout-row">
        <!-- Info Panel (Order: 3 on Mobile, 1 on Desktop) -->
        <aside class="col-12 col-md-3 col-lg-3 info-panel d-flex flex-column p-0 border-end border-secondary-subtle overflow-hidden order-3 order-md-1">
            <div class="p-3 border-bottom border-secondary-subtle">
                <h6 class="text-uppercase fw-bold text-secondary small mb-0">Welcome to Sui-Gen</h6>
            </div>
            <div class="p-3 flex-grow-1 overflow-auto">
                <p class="small text-secondary mb-4">
                    Sui-Gen is a precision lunisolar calendar generator that produces structured datasets for Lunar New Year metadata across large year ranges. It calculates each year‚Äôs Chinese New Year date and enriches it with traditional calendrical attributes such as the <a href="https://en.wikipedia.org/wiki/Chinese_zodiac" target="_blank" class="text-decoration-none text-reset border-bottom border-secondary">zodiac animal</a>, <a href="https://en.wikipedia.org/wiki/Wuxing_(Chinese_philosophy)" target="_blank" class="text-decoration-none text-reset border-bottom border-secondary">Wu Xing</a> element, and <a href="https://en.wikipedia.org/wiki/Sexagenary_cycle" target="_blank" class="text-decoration-none text-reset border-bottom border-secondary">Ganzhi</a> (sexagenary cycle) designation, with support for leap-month logic and related solar-term markers. The tool is designed as a practical data pipeline for developers, allowing you to export reliable precomputed calendar tables that can be embedded into other projects without requiring heavy runtime lunar calendar libraries.
                </p>
                
                <div id="dynamicYearInfo">
                    <p class="text-muted small fst-italic">Loading lunar data...</p>
                </div>
            </div>
            <div class="p-3 border-top border-secondary-subtle">
                <p class="small text-secondary m-0">
                    To learn more about this project or contribute to it,
                    <a href="https://github.com/twinysam/Sui-Gen" target="_blank">check us on GitHub</a>.
                </p>
            </div>
        </aside>

        <!-- Sidebar (Order: 1 on Mobile, 2 on Desktop) -->
        <aside class="col-12 col-md-3 col-lg-2 bg-light border-end border-secondary-subtle d-flex flex-column p-0 order-1 order-md-2">
            <div class="p-3 border-bottom border-secondary-subtle">
                <h6 class="text-uppercase fw-bold text-secondary small mb-3">Time Range</h6>
                <div class="row g-2">
                    <div class="col-6">
                        <label for="startYear" class="form-label small">Start Year</label>
                        <input type="number" class="form-control form-control-sm" id="startYear" value="2024" min="1900" max="2100">
                    </div>
                    <div class="col-6">
                        <label for="endYear" class="form-label small">End Year</label>
                        <input type="number" class="form-control form-control-sm" id="endYear" value="2025" min="1900" max="2100">
                    </div>
                </div>
            </div>

            <div class="p-3 flex-grow-1 overflow-auto">
                <h6 class="text-uppercase fw-bold text-secondary small mb-3">Data Fields</h6>
                <div class="form-check mb-2">
                    <input class="form-check-input" type="checkbox" id="fieldCnyDate" checked>
                    <label class="form-check-label small" for="fieldCnyDate">Diff to Gregorian CNY</label>
                </div>
                <div class="form-check mb-2">
                    <input class="form-check-input" type="checkbox" id="fieldZodiac" checked>
                    <label class="form-check-label small" for="fieldZodiac">Zodiac Animal</label>
                </div>
                <div class="form-check mb-2">
                    <input class="form-check-input" type="checkbox" id="fieldElement" checked>
                    <label class="form-check-label small" for="fieldElement">Element (Wu Xing)</label>
                </div>
                <div class="form-check mb-2">
                    <input class="form-check-input" type="checkbox" id="fieldGanzhi" checked>
                    <label class="form-check-label small" for="fieldGanzhi">Ganzhi Name</label>
                </div>
                <div class="form-check mb-2">
                    <input class="form-check-input" type="checkbox" id="fieldLiChun">
                    <label class="form-check-label small" for="fieldLiChun">Li Chun Date</label>
                </div>
                <div class="form-check mb-2">
                    <input class="form-check-input" type="checkbox" id="fieldYearLength">
                    <label class="form-check-label small" for="fieldYearLength">Year Length (Days)</label>
                </div>
                <div class="form-check mb-2">
                    <input class="form-check-input" type="checkbox" id="fieldLeapMonth">
                    <label class="form-check-label small" for="fieldLeapMonth">Leap Month (Runyue)</label>
                </div>
                <div class="form-check mb-2">
                    <input class="form-check-input" type="checkbox" id="fieldNewMoonUtc">
                    <label class="form-check-label small" for="fieldNewMoonUtc">New Moon (UTC)</label>
                </div>
            </div>

            <div class="p-3 border-top border-secondary-subtle">
                <button id="btnGenerate" class="btn btn-dark w-100 shadow-sm">
                    <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true" id="spinner"></span>
                    <span id="btnText">Generate Calendar</span>
                </button>
                <div class="progress mt-3" style="height: 4px; display: none;" id="progressBarContainer">
                    <div class="progress-bar bg-danger" role="progressbar" style="width: 0%" id="progressBar"></div>
                </div>
                <div class="d-flex justify-content-between mt-2">
                    <small class="text-secondary" id="statusText">Ready</small>
                </div>
            </div>
        </aside>

        <!-- Main Stage (Order: 2 on Mobile, 3 on Desktop) -->
        <main class="col-12 col-md-6 col-lg-7 d-flex flex-column h-100 bg-white p-0 position-relative order-2 order-md-3">
            <!-- Background Pattern -->
            <div class="bg-pattern position-absolute w-100 h-100 z-0"></div>

            <!-- Toolbar -->
            <div class="d-flex justify-content-between align-items-center p-3 border-bottom border-light-subtle z-1 bg-white bg-opacity-75 backdrop-blur">
                <div class="d-flex align-items-center gap-2">
                    <label for="formatSelect" class="text-secondary small fw-bold">Format:</label>
                    <select class="form-select form-select-sm" id="formatSelect" style="width: auto;">
                        <option value="json" selected>JSON</option>
                        <option value="csv">CSV</option>
                        <option value="yaml">YAML</option>
                        <option value="sql">SQL</option>
                        <option value="md">Markdown</option>
                    </select>
                </div>
                <!-- Action Buttons -->
               <div class="btn-group" role="group">
                    <button type="button" class="btn btn-secondary btn-sm" id="btnCopy" disabled>Copy to Clipboard</button>
                    <button type="button" class="btn btn-primary btn-sm" id="btnDownload" disabled>Download .json</button>
                </div>
            </div>

            <!-- Editor/Preview Area -->
            <div class="flex-grow-1 overflow-hidden p-4 z-1">
                <div class="code-preview-container border rounded bg-light h-100 position-relative">
                     <pre class="m-0 p-3 h-100 overflow-auto"><code id="codePreview" class="language-json text-muted">Click "Generate Calendar" to begin...</code></pre>
                </div>
            </div>

            <!-- Footer -->
             <footer class="p-2 border-top border-light-subtle text-end z-1 bg-white">
                <small class="text-secondary me-3">Total Size: <span id="totalSize">0 KB</span></small>
                <small class="text-secondary">Preview Limit: <span id="previewLimit">1000 lines</span></small>
            </footer>

        </main>
    </div>
</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/json.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/yaml.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/sql.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/markdown.min.js"></script>
<script src="js/lunar.min.js"></script>
<script type="module" src="js/main.js"></script>
</body>
</html>
